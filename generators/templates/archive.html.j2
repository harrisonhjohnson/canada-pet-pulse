<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Archive of Canadian pet content from {{ date_formatted }}">
    <meta name="keywords" content="Canadian pets, dog news, cat news, pet trends, Canada, archive">
    <meta name="author" content="Canadian Pet Pulse">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ title }}">
    <meta property="og:description" content="Archive of Canadian pet content from {{ date_formatted }}">

    <title>{{ title }} - {{ date_formatted }}</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>ğŸ¾ {{ title }}</h1>
            <p class="subtitle">Archive from {{ date_formatted }}</p>
            <p class="last-updated">{{ stats.total_items }} curated items</p>
            <p><a href="../index.html" style="color: white; text-decoration: underline;">â† Back to Today</a></p>
        </div>
    </header>

    <main class="container">
        <!-- Stats Section -->
        <section class="stats">
            <div class="stat-card">
                <span class="stat-number">{{ stats.reddit_posts }}</span>
                <span class="stat-label">Reddit Posts</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">{{ stats.news_articles }}</span>
                <span class="stat-label">News Articles</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">{{ stats.total_items }}</span>
                <span class="stat-label">Total Items</span>
            </div>
        </section>

        <!-- AI Summary -->
        {% if summary %}
        <section class="summary-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 12px; margin: 30px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="margin: 0 0 15px 0; font-size: 1.3em; display: flex; align-items: center;">
                <span style="margin-right: 10px;">ğŸ¤–</span>
                Day's Pet Pulse
            </h2>
            <p style="margin: 0; font-size: 1.1em; line-height: 1.6; opacity: 0.95;">
                {{ summary }}
            </p>
        </section>
        {% endif %}

        <!-- Trending Content -->
        <section class="trending-content">
            <h2>Curated Pet Content</h2>

            {% if trending_content %}
                {% for item in trending_content %}
                <article class="content-card {{ item.content_type }}">
                    <div class="card-header">
                        <span class="source-badge {{ item.content_type }}">
                            {% if item.content_type == 'reddit' %}
                                r/{{ item.subreddit }}
                            {% else %}
                                {{ item.source }}
                            {% endif %}
                        </span>
                        <span class="trending-score" title="Trending Score">
                            ğŸ”¥ {{ "%.2f"|format(item.trending_score) }}
                        </span>
                    </div>

                    <h3 class="content-title">
                        <a href="{% if item.content_type == 'reddit' %}{{ item.permalink }}{% else %}{{ item.link }}{% endif %}"
                           target="_blank"
                           rel="noopener noreferrer">
                            {{ item.title }}
                        </a>
                    </h3>

                    {% if item.content_type == 'news' and item.summary %}
                    <p class="content-summary">{{ item.summary[:250] }}{% if item.summary|length > 250 %}...{% endif %}</p>
                    {% elif item.content_type == 'reddit' and item.selftext %}
                    <p class="content-summary">{{ item.selftext[:250] }}{% if item.selftext|length > 250 %}...{% endif %}</p>
                    {% endif %}

                    <div class="card-footer">
                        {% if item.content_type == 'reddit' %}
                        <div class="meta">
                            <span class="meta-item" title="Upvotes">â¬†ï¸ {{ item.score }}</span>
                            <span class="meta-item" title="Comments">ğŸ’¬ {{ item.num_comments }}</span>
                        </div>
                        {% endif %}

                        <span class="canadian-badge" title="Canadian Relevance Score">
                            ğŸ {{ "%.0f"|format(item.canadian_score * 100) }}%
                        </span>

                        <span class="timestamp">
                            {{ (item.created_utc if item.content_type == 'reddit' else item.published)|format_time_ago }}
                        </span>
                    </div>
                </article>
                {% endfor %}
            {% else %}
                <!-- Empty State -->
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ•</div>
                    <p class="empty-state-text">No content archived for this date</p>
                </div>
            {% endif %}
        </section>
    </main>

    <footer>
        <div class="container">
            <p><strong>Canadian Pet Pulse</strong> - Archive from {{ date_formatted }}</p>
            <p>Data sources: {% if stats.sources_succeeded %}{{ stats.sources_succeeded|join(', ')|title }}{% else %}Reddit{% endif %}</p>
            <p><a href="../index.html">View Today's Content</a> | <a href="index.html">Browse Archive</a></p>
            <p><a href="https://github.com/harrisonhjohnson/canada-pet-pulse" target="_blank" rel="noopener noreferrer">View on GitHub</a></p>
        </div>
    </footer>
</body>
</html>
